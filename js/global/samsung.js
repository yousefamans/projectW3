var amazon = [
  { "name": "Samsung S20 128 GB "                 ,  "normalPrice" :  749    , "color" :  "lightblue"   , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/71IX75joWjL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung S20  "                       ,  "normalPrice" :  699    , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "   "                         },
  { "name": "Samsung S20 5G  "                    ,  "normalPrice" :  999    , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61nSb8Jn7oL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung S20 Plus 128 GB "            ,  "normalPrice" :  899    , "color" :  "blue"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61Trx3jsMFL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung S20 Plus 128 GB "            ,  "normalPrice" :  899    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61gCU8NtVyL._AC_SL1000_.jpg   "                         },
  { "name": "Samsung S20 Plus 5G  "               ,  "normalPrice" :  1199   , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/71rBQ6ZikCL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung S20 Ultra 5G Renewed "       ,  "normalPrice" :  1249   , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61oYu2lCqtL._AC_SL1433_.jpg   "                         },
  { "name": "Samsung S20 Ultra 5G 256 GB "        ,  "normalPrice" :  1399    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/613YZGZCdYL._AC_SL1282_.jpg   "                         },
  { "name": "Samsung S20 Ultra "                  ,  "normalPrice" :  1199    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61RFieBxwWL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung Note 10 256 GB "             ,  "normalPrice" :  799    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61jLpFaAiqL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung Note 10  "                   ,  "normalPrice" :  799    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/71H3EE3MUuL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung Note 10+ 256 GB 12 GB "      ,  "normalPrice" :  1049   , "color" :  "glow"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/51GZa79nrUL._AC_SL1000_.jpg   "                         },
  { "name": "Samsung Note 10 Plus 256 GB "        ,  "normalPrice" :  999    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61%2B8N2S1iYL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung Note 10 Lite 128 GB "        ,  "normalPrice" :  449    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/71NpZbxNluL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung Note 10 Lite 128 GB 12 GB "  ,  "normalPrice" :  449    , "color" :  "glow"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/517pdvTPdrL._AC_SL1000_.jpg   "                         },
  { "name": "Samsung Note 9  "                    ,  "normalPrice" :  699    , "color" :  "blue"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "   "                         },
  { "name": "Samsung S10 128GB 8GB RAM  "         ,  "normalPrice" :  599    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/71ei4H2B0-L._AC_SY741_.jpg   "                         },
  { "name": "Samsung S10 128GB 8GB RAM  "         ,  "normalPrice" :  599    , "color" :  "white"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/514oW5hRUZL._AC_SL1000_.jpg   "                         },
  { "name": "Samsung S10+ 128 GB  "               ,  "normalPrice" :  799    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61eCdKZk17L._AC_SL1500_.jpg   "                         },
  { "name": "Samsung S10+ Plus 128GB+8GB RAM  "   ,  "normalPrice" :  699    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/51fED7m7lgL._AC_SL1200_.jpg   "                         },
  { "name": "Samsung S10e 128 GB  "               ,  "normalPrice" :  599    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/51CIUTsM28L._AC_SY741_.jpg   "                         },
  { "name": "Samsung S10 Lite 128GB  "            ,  "normalPrice" :  499    , "color" :  "blue"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/51M62vJNocL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung S10 Lite (128GB, 8GB RAM) "  ,  "normalPrice" :  499    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/71pxSP97v7L._AC_SL1500_.jpg   "                         },
  { "name": "Samsung A71 128GB 6GB Ram  "         ,  "normalPrice" :  399    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61G9VC33fsL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung A71 (128GB, 6GB)  "          ,  "normalPrice" :  439    , "color" :  "silver"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61cuYp3qIvL._AC_SL1000_.jpg   "                         },
  { "name": "Samsung A70  "                       ,  "normalPrice" :  359    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61Ygdf5VvoL._AC_SL1500_.jpg   "                         },
  { "name": "Samsung A70  "                       ,  "normalPrice" :  359    , "color" :  "blue"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/51OoNI6WXyL._AC_.jpg   "                         },
  { "name": "Samsung A51 128GB  "                 ,  "normalPrice" :  299    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61sAKMokIUL._AC_SL1000_.jpg   "                         },
  { "name": "Samsung A51 (128GB, 4GB)  "          ,  "normalPrice" :  299    , "color" :  "white"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61Ir5uzAY1L._AC_SL1000_.jpg   "                         },
  { "name": "Samsung A31 128GB / 4GB  "           ,  "normalPrice" :  259    , "color" :  "white"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61UDVLnL16L._AC_SX569_.jpg   "                         },
  { "name": "Samsung A31 64GB / 4GB  "            ,  "normalPrice" :  259    , "color" :  "white"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "a" ,    "linkUrl" :  ""     , "img": "https://images-na.ssl-images-amazon.com/images/I/61UDVLnL16L._AC_SX679_.jpg   "                         },
  





];


var ebay = [
  { "name": "Samsung S20 128GB Refurbished "           ,  "normalPrice" :  599   , "color" :  "pink"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/34UAAOSwByVe0VsU/s-l1600.jpg   "                         },
  { "name": "Samsung S20 (128GB ,12GB) Multi color "   ,  "normalPrice" :  799    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/oUcAAOSwQcpe8jm8/s-l1600.jpg   "                         },
  { "name": "Samsung S20 5G Refurbished"               ,  "normalPrice" :  599    , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/GlwAAOSwubZewV2P/s-l500.jpg   "                         },
  { "name": "Samsung S20+ 128GB 8GB  "                 ,  "normalPrice" :  799    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/iGEAAOSwz2BeRtrX/s-l1600.jpg   "                         },
  { "name": "Samsung S20+ 128 GB Refurbished "         ,  "normalPrice" :  699    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/3aUAAOSwlRZe0VsB/s-l1600.jpg   "                         },
  { "name": "Samsung S20 Ultra 5G  Refurbished"        ,  "normalPrice" :  899    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/xtQAAOSwQaZevwMC/s-l1600.jpg   "                         },
  { "name": "Samsung S20 Ultra 5G 128GB   "            ,  "normalPrice" :  999    , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/JjIAAOSwZIBfBj6v/s-l1600.jpg   "                         },
  { "name": "Samsung S20 Ultra 128GB 12GB  "           ,  "normalPrice" :  999    , "color" :  "grey"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/8bUAAOSwzZFeSGNo/s-l1600.jpg   "                         },
  { "name": "Samsung S20 Ultra 256GB 12GB Multi color" ,  "normalPrice" :  1099   , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/8bUAAOSwzZFeSGNo/s-l1600.jpg   "                         },
  { "name": "Samsung Note 10 Lite 128GB 6GB  "         ,  "normalPrice" :  439    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/NX8AAOSw8bteMaMu/s-l1600.jpg   "                         },
  { "name": "Samsung Note 10 256GB 8GB  "              ,  "normalPrice" :  699    , "color" :  "glow"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/FEsAAOSw065dVuq6/s-l1600.jpg   "                         },
  { "name": "Samsung Note 10 256GB 8GB  "              ,  "normalPrice" :  599    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/~mwAAOSwdYFe94TW/s-l1600.jpg   "                         },
  { "name": "Samsung Note 10 Lite 128 GB "             ,  "normalPrice" :  439    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/FvIAAOSwlPleKzcv/s-l1600.jpg   "                         },
  { "name": "Samsung Note 10 256GB 8GB "               ,  "normalPrice" :  699    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/yiAAAOSw9S9dTFNO/s-l1600.jpg  "                         },
  { "name": "Samsung Note 10 Plus 256GB  "             ,  "normalPrice" :  799    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/DwUAAOSwEaJeItWM/s-l1600.jpg  "                         },
  { "name": "Samsung Note10 Plus 512 GB 12GB  "        ,  "normalPrice" :  1699    , "color" :  "aurora"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "   "                         },
  { "name": "Samsung Note 10 Plus  "                   ,  "normalPrice" :  999    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/lv0AAOSwB4Je2feo/s-l1600.jpg   "                         },
  { "name": "Samsung S10e 128GB  "                     ,  "normalPrice" :  499    , "color" :  "yellow"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/gmIAAOSwgOpe8jI~/s-l500.jpg   "                         },
  { "name": "Samsung S10 128GB  "                      ,  "normalPrice" :  599    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/zKsAAOSwjhJdlbOY/s-l500.jpg   "                         },
  { "name": "Samsung S10 128GB Multi color "           ,  "normalPrice" :  599    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/QbQAAOSwugJeoqXy/s-l1600.png   "                         },
  { "name": "Samsung S10+ 128GB 8GB  "                 ,  "normalPrice" :  599    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/mS8AAOSwOK1eQZDg/s-l1600.jpg   "                         },
  { "name": "Samsung S10+ 128GB 8 GB  "                ,  "normalPrice" :  599    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/Un4AAOSwyElcbtFB/s-l1600.jpg   "                         },
  { "name": "Samsung S10 Lite  128GB 8GB  "            ,  "normalPrice" :  399    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/PgcAAOSwXVxe8S7i/s-l1600.jpg   "                         },
  { "name": "Samsung S10 Lite 128GB  "                 ,  "normalPrice" :  439    , "color" :  "black"        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/J84AAOSwwvpe~Mtf/s-l1600.png   "                         },
  { "name": "Samsung A71 128GB 6GB  "                  ,  "normalPrice" :  399    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/X0IAAOSwO0VeRBmd/s-l1600.jpg   "                         },
  { "name": "Samsung A51 128GB 4GB"                    ,  "normalPrice" :  299    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/nkQAAOSwtmxe84eU/s-l1600.jpg   "                         },
  { "name": "Samsung A51 128GB  "                      ,  "normalPrice" :  299    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/dSIAAOSwfb1fKbnc/s-l1600.jpg   "                         },
  { "name": "Samsung A31 128GB 4GB  "                  ,  "normalPrice" :  259    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": "https://i.ebayimg.com/images/g/~6YAAOSws4NerDoR/s-l1600.jpg   "                         },
  { "name": "Samsung A31 64GB 4GB  "                   ,  "normalPrice" :  259    , "color" :  ""        , "price": 0    ,    "difference": 0    , "percent": 0  , "brand": "e" ,    "linkUrl" :  ""     , "img": " https://i.ebayimg.com/images/g/NCUAAOSwTY1erDr6/s-l1600.jpg  "                         },
  



];








// function to insert data into array
function dataFinder(phonesListIndex, jsonDataIndex , listName, fileFormat ) {

  var siteUrl = fileFormat.links[jsonDataIndex].link ;

  var JsonData = fileFormat.links[jsonDataIndex].price ;
  var JsonDataInt = JsonData.slice(4);
  var ReplaceComma = parseFloat(JsonDataInt.replace(/,/g, ''));

  
  listName[phonesListIndex].difference =  listName[phonesListIndex].normalPrice - parseInt( ReplaceComma)  ;

  listName[phonesListIndex].price =  JsonData  ;
  // for percent
  
  
  var differenceInPrice = listName[phonesListIndex].normalPrice - parseInt( ReplaceComma) ;
  
  var percentValue = (parseInt(differenceInPrice) / parseInt(listName[phonesListIndex].normalPrice )) * 100   ;

  var roundedPercentValue = Math.round(percentValue) ;
  
  listName[phonesListIndex].percent =  roundedPercentValue ;

  
  listName[phonesListIndex].linkUrl = siteUrl ;




}






// write data to html

function phoneData(idIndex, sortedPhoneListIndex,listName) {
  document.getElementById('phone'+idIndex).innerHTML =  listName[sortedPhoneListIndex].name  ;
  document.getElementById('price'+idIndex).innerHTML = "Price: " + listName[sortedPhoneListIndex].price + "<br><s class="+"beforePrice"+">  " + listName[sortedPhoneListIndex].normalPrice+"</s>" ;
  document.getElementById('difference'+idIndex).innerHTML =  listName[sortedPhoneListIndex].percent + "% Off" ;
  document.getElementById('img'+idIndex).src =  listName[sortedPhoneListIndex].img  ;
  document.getElementById('linkBtn'+idIndex).href =  listName[sortedPhoneListIndex].linkUrl  ;
  document.getElementById('color'+idIndex).style.backgroundColor =  listName[sortedPhoneListIndex].color  ;
  if (listName[sortedPhoneListIndex].brand == "e"){
      document.getElementById('brand'+idIndex).src =  "###https://c7.uihere.com/files/946/191/806/flipkart-e-commerce-logo-bangalore-chief-executive-others.jpg"  ;
  } else if (listName[sortedPhoneListIndex].brand == "a") {
      document.getElementById('brand'+idIndex).src = '###https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTEJIZEPPaGHPK2nb5aHP2sUKw8LYwoJD6zjw&usqp=CAU' ;
  }

}
   




///Ebay

fetch('/json/global/ebay.json')
.then(res => res.json())
.then((json) => {
  

  var i , j ;
  for (i = 0 , j=42; i < 30,j< 71; i++,j++) {
  

    dataFinder(i, j, ebay , json)  ;
  }



  
  // soets phoneList data by difference value
  ebay.sort(function(a, b){return a.difference- b.difference});





  // data of name , price and difference
 
     
  phoneData(2, 27, ebay); 
  phoneData(4, 26, ebay);
  phoneData(6, 25, ebay);
  phoneData(8, 24, ebay);
  phoneData(10, 23, ebay);
  phoneData(12, 22, ebay);
  phoneData(14, 21, ebay);
  phoneData(16, 20, ebay);
  phoneData(18, 19, ebay);
  phoneData(20, 18, ebay);
  
  
  
  
  


})


// amazon







fetch('/json/usa/amazon.json')
.then(res => res.json())
.then((json) => {



function dataFinderAmazon(phonesListIndex, jsonDataIndex , listName, fileFormat ) {

  var Url = fileFormat.links[jsonDataIndex].link ;

  var priceJson = fileFormat.links[jsonDataIndex].price ;

  var sliced_price = priceJson.slice(1,-3);

  var price = sliced_price.replace(/,/g,"");


  
  
  var differenceInPrice = listName[phonesListIndex].normalPrice - price ;
  
  var percentValue = (parseInt(differenceInPrice) / parseInt(listName[phonesListIndex].normalPrice )) * 100   ;

  var roundedPercentValue = Math.round(percentValue) ;

  listName[phonesListIndex].difference =  differenceInPrice  ;

  listName[phonesListIndex].price =  priceJson ;
  // for percent
  
  listName[phonesListIndex].percent =  roundedPercentValue ;

  
  listName[phonesListIndex].linkUrl = Url ;


  
  




  }




  // if there is error check if links is declared in json file 

  var a = 0 ;
  for (a = 0; a < 31; a++) {
  
    dataFinderAmazon(a,a, amazon, json); 
  }





  /*


  
  amazon.sort(function(a, b){return a.difference - b.difference});
  
*/
 

 
  
    

  phoneData(1,  30,amazon);
  phoneData(3,  21,amazon);
  

  phoneData(5,  22,amazon);
  
  phoneData(7,  23,amazon);
  
  phoneData(9,  24,amazon);
  
  phoneData(11, 25, amazon);

  phoneData(13, 26, amazon);
  phoneData(15, 27, amazon);
  phoneData(17, 29, amazon);
  phoneData(19, 30, amazon);


});
  
 














